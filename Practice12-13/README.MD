# Варіант 5

Напишіть багатопоточну програму, яка виконує критичну обчислювальну задачу, і у випадку SIGSEGV відновлюється з останньої збереженої контрольної точки.

![](https://github.com/diebymyhand/aspz/blob/main/Practice12-13/1.png)

Програма обчислює факторіал числа 10000 у багатопоточному режимі як приклад критичної обчислювальної задачі.
На початку виконання програма намагається завантажити останні збережені значення з файлу контрольної точки. Цей файл містить контрольні точки, які створюються кожні 1000 ітерацій. Якщо файл не існує, програма починає обчислення з початкових значень.

Контрольна точка складається з двох значень:
1) останнє число, для якого було обчислено частину факторіалу
2) частковий результат факторіалу на цей момент

На 5000-ій ітерації спеціально викликається штучна помилка — raise(SIGSEGV). Це зроблено для перевірки роботи механізму відновлення після аварії. Якщо програма отримує сигнал сегментаційної помилки (SIGSEGV), обчислення автоматично відновлюються з останньої збереженої контрольної точки.
Для цього в програмі реалізований обробник сигналу, який зчитує дані з файлу контрольної точки та запускає обчислення з того місця, де вони були перервані.
Такий підхід дозволяє уникнути втрат результатів і мінімізувати переривання обчислень у разі критичних помилок. Програма продовжує обчислення доти, доки факторіал числа 10000 не буде повністю обчислений.

Оскільки результат факторіалу числа 10000 є надто великим для типу long long, підсумкове значення буде некоректним через переповнення змінної.
